# ESLint 配置说明

## 🎯 当前配置特点

### 已关闭的规则

- `@typescript-eslint/no-unused-vars` - **允许未使用变量存在**
- `no-unused-vars` - 关闭原生 JS 未使用变量检查
- `@typescript-eslint/no-explicit-any` - 允许使用 `any` 类型
- `@typescript-eslint/no-require-imports` - 允许 `require()` 导入

### 忽略的文件和目录

- `node_modules/**` - 依赖包
- `.next/**` - Next.js 构建输出
- `src/generated/**` - Prisma 生成的文件
- `.history/**` - 编辑器历史记录
- `scripts/**` - 构建脚本
- `prisma/**` - Prisma 配置和迁移
- `**/*.js` - 所有 JS 文件（只检查 TS/TSX）

## 🔧 如何修改配置

### 重新启用未使用变量检查

如果需要重新启用未使用变量的检查，可以修改 `eslint.config.mjs`：

```javascript
{
  rules: {
    // 启用但宽松的检查
    '@typescript-eslint/no-unused-vars': [
      'warn',
      {
        vars: 'all',
        args: 'after-used',
        ignoreRestSiblings: true,
        argsIgnorePattern: '^_',
        varsIgnorePattern: '^_',
        caughtErrorsIgnorePattern: '^_',
      },
    ],
  },
}
```

### 添加更多忽略规则

在 `ignores` 数组中添加需要忽略的文件模式：

```javascript
{
  ignores: [
    // 现有规则...
    'src/legacy/**',     // 忽略遗留代码
    'src/temp/**',       // 忽略临时文件
    '**/*.test.ts',      // 忽略测试文件
  ],
}
```

## 🚀 常用命令

```bash
# 检查所有文件
pnpm lint

# 检查特定目录
pnpm lint src/components

# 检查特定文件
pnpm lint src/app/page.tsx

# 自动修复可修复的问题
pnpm lint:fix
```

## 📝 最佳实践

1. **开发阶段**: 当前配置适合快速开发，不会因未使用变量而中断开发流程
2. **代码审查**: 在代码审查时手动检查是否有不需要的变量
3. **生产准备**: 发布前可考虑临时启用严格模式进行最终检查
4. **团队协作**: 确保团队成员了解当前的宽松配置

## 🔄 配置变更历史

- 2024-01-01: 关闭未使用变量检查，允许开发阶段的灵活性
- 添加了对生成文件和历史文件的忽略规则
- 保持 TypeScript 严格检查但放宽 ESLint 规则
